<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Illuminate: Writing tests</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script src="http://www.mathjax.org/mathjax/MathJax.js">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Illuminate</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="index.html">Introduction</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">Writing tests </div>  </div>
</div>
<div class="contents">
<div class="textblock"><ul>
<li><a class="el" href="writing_tests.html#simple_test">A simple test</a></li>
<li><a class="el" href="writing_tests.html#customizing_failure_messages">Customizing failure messages</a><ul>
<li><a class="el" href="writing_tests.html#test_prefixes">Prefixes: EXPECT versus ASSERT</a></li>
<li><a class="el" href="writing_tests.html#test_suffixes">Suffixes: Bare versus VAL versus LABELED.</a></li>
</ul>
</li>
<li><a class="el" href="writing_tests.html#performing_checks">Performing checks</a><ul>
<li><a class="el" href="writing_tests.html#relation_checks">Relation checks</a></li>
<li><a class="el" href="writing_tests.html#approximate_equality_checks">Approximate equality checks</a></li>
<li><a class="el" href="writing_tests.html#boolean_checks">Boolean checks</a></li>
<li><a class="el" href="writing_tests.html#forced_failure">Forced failure</a></li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="simple_test"></a>
A simple test</h2>
<p>Here is an example of a very simple test:</p>
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#include &quot;<a class="code" href="illuminate_8hpp.html" title="User front-end header file --- i.e. what you probably want to include if you are just writing tests...">illuminate.hpp</a>&quot;</span>
<a name="l00002"></a>00002 
<a name="l00003"></a>00003 <a class="code" href="group___d_e_c_l_a_r_a_t_i_o_n_s.html#ga42452016d78f3898d3a2eeb565fbe8bf" title="Defines a test case named caseName.">TEST_CASE</a>(two_plus_two_equals_four) {
<a name="l00004"></a>00004     <a class="code" href="group___e_q___c_h_e_c_k_s.html#gaae9efda4916070501dc5e4c56f53b6ab" title="Like EXPECT_EQ, but only quotes the first argument in the error message. This macro is provided for t...">EXPECT_EQ_VAL</a>(2+2,4)
<a name="l00005"></a>00005 }
</pre></div><p>Line 1 includes <a class="el" href="illuminate_8hpp.html" title="User front-end header file --- i.e. what you probably want to include if you are just writing tests...">illuminate.hpp</a>, line 3 defines a test case named "two_plus_two_equals_four", and line 4 performs a simple check that 2+2 = 4. The result of running this test is:</p>
<div class="fragment"><pre class="fragment">Root:
    two plus two equals four... PASSED :-)

All tests passed!
</pre></div><p>Note that when printing out test names, underscores are converted to spaces.</p>
<p>Whenever a non-trivial test passes on the first try, I like to intentionally break the code it is testing to see if that makes the test fail in order to make sure that I am not getting a false positive. Following this philosophy, let's make a change that breaks our simple test from the last section:</p>
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#include &quot;<a class="code" href="illuminate_8hpp.html" title="User front-end header file --- i.e. what you probably want to include if you are just writing tests...">illuminate.hpp</a>&quot;</span>
<a name="l00002"></a>00002 
<a name="l00003"></a>00003 <a class="code" href="group___d_e_c_l_a_r_a_t_i_o_n_s.html#ga42452016d78f3898d3a2eeb565fbe8bf" title="Defines a test case named caseName.">TEST_CASE</a>(two_plus_two_equals_four) {
<a name="l00004"></a>00004     <a class="code" href="group___e_q___c_h_e_c_k_s.html#gaae9efda4916070501dc5e4c56f53b6ab" title="Like EXPECT_EQ, but only quotes the first argument in the error message. This macro is provided for t...">EXPECT_EQ_VAL</a>(2+3,4)
<a name="l00005"></a>00005 }
</pre></div> <div class="fragment"><pre class="fragment">Root:
    two plus two equals four... FAILED :-(
        * example.cpp:4 - 2+3 &lt;5&gt; does not match the expected value &lt;4&gt;

1 test failed.
</pre></div><p>As we can see, a message is output describing the location and nature of the failure.</p>
<h3><a class="anchor" id="customizing_failure_messages"></a>
Customizing failure messages</h3>
<h4><a class="anchor" id="test_prefixes"></a>
Prefixes: EXPECT versus ASSERT</h4>
<p>Up to now all of the test macros have begun with EXPECT; however, all macros that start with EXCEPT also have a variant that starts with ASSERT. The difference is that ASSERT macros end the test case if they fail, whereas EXPECT macros will keep going.</p>
<p>For example, here is a test with multiple EXPECT checks that fail:</p>
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#include &quot;<a class="code" href="illuminate_8hpp.html" title="User front-end header file --- i.e. what you probably want to include if you are just writing tests...">illuminate.hpp</a>&quot;</span>
<a name="l00002"></a>00002 
<a name="l00003"></a>00003 <a class="code" href="group___d_e_c_l_a_r_a_t_i_o_n_s.html#ga42452016d78f3898d3a2eeb565fbe8bf" title="Defines a test case named caseName.">TEST_CASE</a>(two_plus_two_equals_many_test) {
<a name="l00004"></a>00004     <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 1; i &lt;= 6; ++i) <a class="code" href="group___e_q___c_h_e_c_k_s.html#gaae9efda4916070501dc5e4c56f53b6ab" title="Like EXPECT_EQ, but only quotes the first argument in the error message. This macro is provided for t...">EXPECT_EQ_VAL</a>(2+2,i)
<a name="l00005"></a>00005 }
</pre></div> <div class="fragment"><pre class="fragment">Root:
    two plus two equals many test... FAILED :-(
        * example.cpp:4 - 2+2 &lt;4&gt; does not match the expected value &lt;1&gt;
        * example.cpp:4 - 2+2 &lt;4&gt; does not match the expected value &lt;2&gt;
        * example.cpp:4 - 2+2 &lt;4&gt; does not match the expected value &lt;3&gt;
        * example.cpp:4 - 2+2 &lt;4&gt; does not match the expected value &lt;5&gt;
        * example.cpp:4 - 2+2 &lt;4&gt; does not match the expected value &lt;6&gt;

1 test failed.
</pre></div><p>If instead we used <code>ASSERT_EQ_VAL</code>, then we would have the following:</p>
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#include &quot;<a class="code" href="illuminate_8hpp.html" title="User front-end header file --- i.e. what you probably want to include if you are just writing tests...">illuminate.hpp</a>&quot;</span>
<a name="l00002"></a>00002 
<a name="l00003"></a>00003 <a class="code" href="group___d_e_c_l_a_r_a_t_i_o_n_s.html#ga42452016d78f3898d3a2eeb565fbe8bf" title="Defines a test case named caseName.">TEST_CASE</a>(two_plus_two_equals_many_test) {
<a name="l00004"></a>00004     <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 1; i &lt;= 6; ++i) <a class="code" href="group___e_q___c_h_e_c_k_s.html#ga4d58f5d1841ae899f6be5d37be50002f" title="Like ASSERT_EQ, but only quotes the first argument in the error message. This macro is provided for t...">ASSERT_EQ_VAL</a>(2+2,i)
<a name="l00005"></a>00005 }
</pre></div> <div class="fragment"><pre class="fragment">Root:
    two plus two equals many test... FAILED :-(
        * example.cpp:4 - 2+2 &lt;4&gt; does not match the expected value &lt;1&gt;

1 test failed.
</pre></div><p>If there is a combination of EXPECTs and ASSERTs that fail, then all of the messages will be displayed up to the first ASSERT that fails:</p>
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#include &quot;<a class="code" href="illuminate_8hpp.html" title="User front-end header file --- i.e. what you probably want to include if you are just writing tests...">illuminate.hpp</a>&quot;</span>
<a name="l00002"></a>00002 
<a name="l00003"></a>00003 <a class="code" href="group___d_e_c_l_a_r_a_t_i_o_n_s.html#ga42452016d78f3898d3a2eeb565fbe8bf" title="Defines a test case named caseName.">TEST_CASE</a>(two_plus_two_equals_many_test) {
<a name="l00004"></a>00004     <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 1; i &lt;= 6; ++i) <a class="code" href="group___e_q___c_h_e_c_k_s.html#gaae9efda4916070501dc5e4c56f53b6ab" title="Like EXPECT_EQ, but only quotes the first argument in the error message. This macro is provided for t...">EXPECT_EQ_VAL</a>(2+2,i)
<a name="l00005"></a>00005     <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 1; i &lt;= 6; ++i) <a class="code" href="group___e_q___c_h_e_c_k_s.html#ga4d58f5d1841ae899f6be5d37be50002f" title="Like ASSERT_EQ, but only quotes the first argument in the error message. This macro is provided for t...">ASSERT_EQ_VAL</a>(2+2,i)
<a name="l00006"></a>00006 }
</pre></div> <div class="fragment"><pre class="fragment">Root:
    two plus two equals many test... FAILED :-(
        * example.cpp:4 - 2+2 &lt;4&gt; does not match the expected value &lt;1&gt;
        * example.cpp:4 - 2+2 &lt;4&gt; does not match the expected value &lt;2&gt;
        * example.cpp:4 - 2+2 &lt;4&gt; does not match the expected value &lt;3&gt;
        * example.cpp:4 - 2+2 &lt;4&gt; does not match the expected value &lt;5&gt;
        * example.cpp:4 - 2+2 &lt;4&gt; does not match the expected value &lt;6&gt;
        * example.cpp:5 - 2+2 &lt;4&gt; does not match the expected value &lt;1&gt;

1 test failed.
</pre></div><h4><a class="anchor" id="test_suffixes"></a>
Suffixes: Bare versus VAL versus LABELED.</h4>
<p>Up to now all of the test macros have ended with VAL, but for any macro that ends in VAL there is also a bare variant, a variant that ends in LABELED. Here is an example of using these variants:</p>
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#include &quot;<a class="code" href="illuminate_8hpp.html" title="User front-end header file --- i.e. what you probably want to include if you are just writing tests...">illuminate.hpp</a>&quot;</span>
<a name="l00002"></a>00002 
<a name="l00003"></a>00003 <a class="code" href="group___d_e_c_l_a_r_a_t_i_o_n_s.html#ga42452016d78f3898d3a2eeb565fbe8bf" title="Defines a test case named caseName.">TEST_CASE</a>(two_plus_two_equals_four) {
<a name="l00004"></a>00004     <a class="code" href="group___e_q___c_h_e_c_k_s.html#gac87eb24f983e29eebcb6d54f1aeb91bf" title="Checks that A and B are equal, and if not registers a failure message that quotes A and B and display...">EXPECT_EQ</a>(2+3,4)
<a name="l00005"></a>00005     <a class="code" href="group___e_q___c_h_e_c_k_s.html#gaae9efda4916070501dc5e4c56f53b6ab" title="Like EXPECT_EQ, but only quotes the first argument in the error message. This macro is provided for t...">EXPECT_EQ_VAL</a>(2+3,4)
<a name="l00006"></a>00006     <a class="code" href="group___e_q___c_h_e_c_k_s.html#ga164e7aab793a767c7e81e20fa9cf1513" title="Checks that B and D are equal, and if not registers a failure labeling these values with the respecti...">EXPECT_EQ_LABELED</a>(&quot;expression&quot;,2+3,&quot;result&quot;,4)
<a name="l00007"></a>00007 }
</pre></div> <div class="fragment"><pre class="fragment">Root:
    two plus two equals four... FAILED :-(
        * example.cpp:4 - 2+3 &lt;5&gt; does not match 4 &lt;4&gt;
        * example.cpp:5 - 2+3 &lt;5&gt; does not match the expected value &lt;4&gt;
        * example.cpp:6 - expression &lt;5&gt; does not match result &lt;4&gt;

1 test failed.
</pre></div><p>The bare form prints out both the expression and the value for each of the two arguments. The VAL form prints the expression and value for the first argument, but only the value of the second argument (with the label "the expected value"). The LABELED form takes an extra argument before each expression that provides an explicit label for that expression.</p>
<h3><a class="anchor" id="performing_checks"></a>
Performing checks</h3>
<h4><a class="anchor" id="relation_checks"></a>
Relation checks</h4>
<p>Up to this point we have only been using macros that check for equality, but <a class="el" href="namespace_illuminate.html" title="The main namespace used by the Illuminate test system.">Illuminate</a> has other checks as well:</p>
<ul>
<li>EQ: a == b</li>
<li>NE: a != b</li>
<li>GE: a &gt;= b</li>
<li>GT: a &gt; b</li>
<li>LE: a &lt;= b</li>
<li>LT: a &lt; b</li>
</ul>
<p>Here is an example of using these checks:</p>
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#include &quot;<a class="code" href="illuminate_8hpp.html" title="User front-end header file --- i.e. what you probably want to include if you are just writing tests...">illuminate.hpp</a>&quot;</span>
<a name="l00002"></a>00002 
<a name="l00003"></a>00003 <a class="code" href="group___d_e_c_l_a_r_a_t_i_o_n_s.html#ga42452016d78f3898d3a2eeb565fbe8bf" title="Defines a test case named caseName.">TEST_CASE</a>(two_plus_two_test) {
<a name="l00004"></a>00004     <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 3; i &lt;= 5; ++i) {
<a name="l00005"></a>00005         <a class="code" href="group___e_q___c_h_e_c_k_s.html#gaae9efda4916070501dc5e4c56f53b6ab" title="Like EXPECT_EQ, but only quotes the first argument in the error message. This macro is provided for t...">EXPECT_EQ_VAL</a>(2+2,i)
<a name="l00006"></a>00006         <a class="code" href="group___n_e___c_h_e_c_k_s.html#ga7b6615536768656d0cd1ad1327566e9c" title="Like EXPECT_NE, but only quotes the first argument in the error message. This macro is provided for t...">EXPECT_NE_VAL</a>(2+2,i)
<a name="l00007"></a>00007         <a class="code" href="group___g_e___c_h_e_c_k_s.html#ga2398a1aa338d1aca0bfb9074e73baa0d" title="Like EXPECT_GE, but only quotes the first argument in the error message. This macro is provided for t...">EXPECT_GE_VAL</a>(2+2,i)
<a name="l00008"></a>00008         <a class="code" href="group___g_t___c_h_e_c_k_s.html#ga341a0a234073538c370918d4c9d2f371" title="Like EXPECT_GT, but only quotes the first argument in the error message. This macro is provided for t...">EXPECT_GT_VAL</a>(2+2,i)
<a name="l00009"></a>00009         <a class="code" href="group___l_e___c_h_e_c_k_s.html#gac951971e6251e0cf6818a2d526ac6508" title="Like EXPECT_LE, but only quotes the first argument in the error message. This macro is provided for t...">EXPECT_LE_VAL</a>(2+2,i)
<a name="l00010"></a>00010         <a class="code" href="group___l_t___c_h_e_c_k_s.html#gac05d030c55d83d6e2d740bca5859fbd9" title="Like EXPECT_LT, but only quotes the first argument in the error message. This macro is provided for t...">EXPECT_LT_VAL</a>(2+2,i)
<a name="l00011"></a>00011     }
<a name="l00012"></a>00012 }
</pre></div> <div class="fragment"><pre class="fragment">Root:
    two plus two test... FAILED :-(
        * example.cpp:5 - 2+2 &lt;4&gt; does not match the expected value &lt;3&gt;
        * example.cpp:9 - 2+2 &lt;4&gt; is greater than the expected upper bound &lt;3&gt;
        * example.cpp:10 - 2+2 &lt;4&gt; is greater than or equal to the expected strict upper bound &lt;3&gt;
        * example.cpp:6 - 2+2 &lt;4&gt; matches the unexpected value &lt;4&gt;
        * example.cpp:8 - 2+2 &lt;4&gt; is less than or equal to the expected strict lower bound &lt;4&gt;
        * example.cpp:10 - 2+2 &lt;4&gt; is greater than or equal to the expected strict upper bound &lt;4&gt;
        * example.cpp:5 - 2+2 &lt;4&gt; does not match the expected value &lt;5&gt;
        * example.cpp:7 - 2+2 &lt;4&gt; is less than the expected lower bound &lt;5&gt;
        * example.cpp:8 - 2+2 &lt;4&gt; is less than or equal to the expected strict lower bound &lt;5&gt;

1 test failed.
</pre></div><h4><a class="anchor" id="approximate_equality_checks"></a>
Approximate equality checks</h4>
<p>When working with floating point numbers, one often ends up with results that need to be checked for approximate equality to an exact result rather than exact equality. The NEAR_ABS and NEAR_REL checks are provided for this purpose. NEAR_ABS checks that two values are equal within an <em>absolute</em> tolerance --- that is, <a class="el" href="group___n_e_a_r___a_b_s___c_h_e_c_k_s.html#ga9c98e846f527ad914978b45111f2680a" title="Checks that A and B are approximately equal within an absolute tolerance of C, and if not registers a...">EXPECT_NEAR_ABS(a,b,c)</a> checks that \(|a-b| \le c\). NEAR_REL checks that two values are equal within a <em>relative</em> tolerance --- that is, <a class="el" href="group___n_e_a_r___r_e_l___c_h_e_c_k_s.html#gaae99a32e3d65969cae48ca4f27fd4c60" title="Checks that A and B are approximately equal within a relative tolerance of C, and if not registers a ...">EXPECT_NEAR_REL(a,b,c)</a> checks roughly that either \(|a|+|b| \le c\) (that is, both a and b are approximately 0) or that \(\frac{|a-b|}{(|a|+|b|)/2} \le c\).</p>
<p>Here is an example of using these checks:</p>
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#include &quot;<a class="code" href="illuminate_8hpp.html" title="User front-end header file --- i.e. what you probably want to include if you are just writing tests...">illuminate.hpp</a>&quot;</span>
<a name="l00002"></a>00002 
<a name="l00003"></a>00003 <a class="code" href="group___d_e_c_l_a_r_a_t_i_o_n_s.html#ga42452016d78f3898d3a2eeb565fbe8bf" title="Defines a test case named caseName.">TEST_CASE</a>(approximate_equality_test) {
<a name="l00004"></a>00004     <a class="code" href="group___n_e_a_r___a_b_s___c_h_e_c_k_s.html#ga387a123e67c90d037cbc01e6b3db3272" title="Checks that B and D are approximately equal within an absolute tolerance of E, and if not registers a...">EXPECT_NEAR_ABS_LABELED</a>(<span class="stringliteral">&quot;&quot;</span>,4,<span class="stringliteral">&quot;&quot;</span>,4.2,0.1)
<a name="l00005"></a>00005     <a class="code" href="group___n_e_a_r___r_e_l___c_h_e_c_k_s.html#gaac64c5f6f4515077021ecced793a88a0" title="Checks that B and D are approximately equal within a relative tolerance of E, and if not registers a ...">EXPECT_NEAR_REL_LABELED</a>(&quot;&quot;,4,&quot;&quot;,4.2,0.1)
<a name="l00006"></a>00006     <a class="code" href="group___n_e_a_r___a_b_s___c_h_e_c_k_s.html#ga387a123e67c90d037cbc01e6b3db3272" title="Checks that B and D are approximately equal within an absolute tolerance of E, and if not registers a...">EXPECT_NEAR_ABS_LABELED</a>(&quot;&quot;,0.1,&quot;&quot;,0.12,0.1)
<a name="l00007"></a>00007     <a class="code" href="group___n_e_a_r___r_e_l___c_h_e_c_k_s.html#gaac64c5f6f4515077021ecced793a88a0" title="Checks that B and D are approximately equal within a relative tolerance of E, and if not registers a ...">EXPECT_NEAR_REL_LABELED</a>(&quot;&quot;,0.1,&quot;&quot;,0.12,0.1)
<a name="l00008"></a>00008     <a class="code" href="group___n_e_a_r___a_b_s___c_h_e_c_k_s.html#ga387a123e67c90d037cbc01e6b3db3272" title="Checks that B and D are approximately equal within an absolute tolerance of E, and if not registers a...">EXPECT_NEAR_ABS_LABELED</a>(&quot;&quot;,0.01,&quot;&quot;,0.012,0.1)
<a name="l00009"></a>00009     <a class="code" href="group___n_e_a_r___r_e_l___c_h_e_c_k_s.html#gaac64c5f6f4515077021ecced793a88a0" title="Checks that B and D are approximately equal within a relative tolerance of E, and if not registers a ...">EXPECT_NEAR_REL_LABELED</a>(&quot;&quot;,0.01,&quot;&quot;,0.012,0.1)
<a name="l00010"></a>00010 }
</pre></div> <div class="fragment"><pre class="fragment">Root:
    approximate equality test... FAILED :-(
        * example.cpp:4 -  &lt;4&gt; does not match  &lt;4.2&gt; within an absolute tolerance of 0.1
        * example.cpp:7 -  &lt;0.1&gt; does not match  &lt;0.12&gt; within a relative tolerance of 0.1

1 test failed.
</pre></div><h4><a class="anchor" id="boolean_checks"></a>
Boolean checks</h4>
<p>Sometimes you just have an expression and you need to check that it is true or false. <a class="el" href="group___t_r_u_e___c_h_e_c_k_s.html#ga35e6e670fbf060ba8a9bb87c901cab49" title="Checks that A is true, and if not registers a failure.">EXPECT_TRUE(x)</a> / <a class="el" href="group___t_r_u_e___c_h_e_c_k_s.html#ga97e9a45dd576d6ea1dd28c24d9e5fbed" title="Checks that A is true, and if not registers a failure and terminates the test.">ASSERT_TRUE(x)</a> and <a class="el" href="group___f_a_l_s_e___c_h_e_c_k_s.html#ga8e2c9b715bb0c27fed8d3b7baef0d209" title="Checks that A is false, and if not registers a failure.">EXPECT_FALSE(x)</a> / <a class="el" href="group___f_a_l_s_e___c_h_e_c_k_s.html#gace1d60e95b7bef2e1eb56b5349ab132c" title="Checks that A is false, and if not registers a failure and terminates the test.">ASSERT_FALSE(x)</a> provide this functionality, respectively checking that a given expression (x) is true or false.</p>
<p>Here is an example of using these checks:</p>
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#include &quot;<a class="code" href="illuminate_8hpp.html" title="User front-end header file --- i.e. what you probably want to include if you are just writing tests...">illuminate.hpp</a>&quot;</span>
<a name="l00002"></a>00002 
<a name="l00003"></a>00003 <a class="code" href="group___d_e_c_l_a_r_a_t_i_o_n_s.html#ga42452016d78f3898d3a2eeb565fbe8bf" title="Defines a test case named caseName.">TEST_CASE</a>(two_plus_two_test) {
<a name="l00004"></a>00004     <a class="code" href="group___t_r_u_e___c_h_e_c_k_s.html#ga35e6e670fbf060ba8a9bb87c901cab49" title="Checks that A is true, and if not registers a failure.">EXPECT_TRUE</a>(2+2==4)
<a name="l00005"></a>00005     <a class="code" href="group___t_r_u_e___c_h_e_c_k_s.html#ga35e6e670fbf060ba8a9bb87c901cab49" title="Checks that A is true, and if not registers a failure.">EXPECT_TRUE</a>(2+2==5)
<a name="l00006"></a>00006     <a class="code" href="group___f_a_l_s_e___c_h_e_c_k_s.html#ga8e2c9b715bb0c27fed8d3b7baef0d209" title="Checks that A is false, and if not registers a failure.">EXPECT_FALSE</a>(2+2==4)
<a name="l00007"></a>00007     <a class="code" href="group___f_a_l_s_e___c_h_e_c_k_s.html#ga8e2c9b715bb0c27fed8d3b7baef0d209" title="Checks that A is false, and if not registers a failure.">EXPECT_FALSE</a>(2+2==5)
<a name="l00008"></a>00008 }
</pre></div> <div class="fragment"><pre class="fragment">Root:
    two plus two test... FAILED :-(
        * example.cpp:5 - 2+2==5 is not true
        * example.cpp:6 - 2+2==4 is not false

1 test failed.
</pre></div><h4><a class="anchor" id="forced_failure"></a>
Forced failure</h4>
<p>The macros presented previously are provided for convenience, but there is nothing stopping you from writing your own check and having exact control over the failure message that is displayed. If your test fails, you will want to call either <a class="el" href="group___f_o_r_c_e_d___f_a_i_l_u_r_e_s.html#ga8afdb63dd7f053446aa1a5ce66e55651" title="Raises a failure with the given message.">FAIL(msg)</a> or <a class="el" href="group___f_o_r_c_e_d___f_a_i_l_u_r_e_s.html#ga828ecd35946a8b7bfb49fa1c28caf2e2" title="Raises a failure with the given message, and then terminates the test.">FATALLY_FAIL(msg)</a> with your failure message, where the only difference between the two macros is that the latter terminates the test in addition to displaying the failure message.</p>
<p>Here is an example of using these macros:</p>
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#include &quot;<a class="code" href="illuminate_8hpp.html" title="User front-end header file --- i.e. what you probably want to include if you are just writing tests...">illuminate.hpp</a>&quot;</span>
<a name="l00002"></a>00002 
<a name="l00003"></a>00003 <a class="code" href="group___d_e_c_l_a_r_a_t_i_o_n_s.html#ga42452016d78f3898d3a2eeb565fbe8bf" title="Defines a test case named caseName.">TEST_CASE</a>(failures) {
<a name="l00004"></a>00004     <a class="code" href="group___f_o_r_c_e_d___f_a_i_l_u_r_e_s.html#ga8afdb63dd7f053446aa1a5ce66e55651" title="Raises a failure with the given message.">FAIL</a>(<span class="stringliteral">&quot;You will see this message...&quot;</span>)
<a name="l00005"></a>00005     <a class="code" href="group___f_o_r_c_e_d___f_a_i_l_u_r_e_s.html#ga828ecd35946a8b7bfb49fa1c28caf2e2" title="Raises a failure with the given message, and then terminates the test.">FATALLY_FAIL</a>(&quot;...and this message...&quot;)
<a name="l00006"></a>00006     <a class="code" href="group___f_o_r_c_e_d___f_a_i_l_u_r_e_s.html#ga8afdb63dd7f053446aa1a5ce66e55651" title="Raises a failure with the given message.">FAIL</a>(&quot;...but not this message.&quot;)
<a name="l00007"></a>00007 }
</pre></div> <div class="fragment"><pre class="fragment">Root:
    failures... FAILED :-(
        * example.cpp:4 - You will see this message...
        * example.cpp:5 - ...and this message...

1 test failed.
</pre></div> </div></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Sun Jul 31 2011 00:29:23 for Illuminate by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
