<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Illuminate: includes/illuminate/test_tree.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script src="http://www.mathjax.org/mathjax/MathJax.js">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Illuminate</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">includes/illuminate/test_tree.hpp</div>  </div>
</div>
<div class="contents">
<a href="test__tree_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//@+leo-ver=5-thin</span>
<a name="l00002"></a>00002 <span class="comment">//@+node:gcross.20101205182001.2567: * @file test_tree.hpp</span>
<a name="l00003"></a>00003 <span class="comment">//@@language cplusplus</span>
<a name="l00004"></a>00004 <span class="comment">//@+&lt;&lt; License &gt;&gt;</span>
<a name="l00005"></a>00005 <span class="comment">//@+node:gcross.20110222175650.1654: ** &lt;&lt; License &gt;&gt;</span>
<a name="l00006"></a>00006 <span class="comment">//@+at</span>
<a name="l00007"></a>00007 <span class="comment">// ISC License (http://www.opensource.org/licenses/isc-license)</span>
<a name="l00008"></a>00008 <span class="comment">// </span>
<a name="l00009"></a>00009 <span class="comment">// Copyright (c) 2011, Gregory Crosswhite &lt;gcrosswhite@gmail.com&gt;</span>
<a name="l00010"></a>00010 <span class="comment">// </span>
<a name="l00011"></a>00011 <span class="comment">// Permission to use, copy, modify, and/or distribute this software for any purpose with or without fee is hereby granted, provided that the above copyright notice and this permission notice appear in all copies.</span>
<a name="l00012"></a>00012 <span class="comment">// </span>
<a name="l00013"></a>00013 <span class="comment">// THE SOFTWARE IS PROVIDED &quot;AS IS&quot; AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.</span>
<a name="l00014"></a>00014 <span class="comment">//@@c</span>
<a name="l00015"></a>00015 <span class="comment">//@-&lt;&lt; License &gt;&gt;</span>
<a name="l00016"></a>00016 
<a name="l00021"></a>00021 <span class="preprocessor">#ifndef ILLUMINATE_TEST_TREE_HPP</span>
<a name="l00022"></a>00022 <span class="preprocessor"></span><span class="preprocessor">#define ILLUMINATE_TEST_TREE_HPP</span>
<a name="l00023"></a>00023 <span class="preprocessor"></span>
<a name="l00024"></a>00024 <span class="comment">//@+&lt;&lt; Includes &gt;&gt;</span>
<a name="l00025"></a>00025 <span class="comment">//@+node:gcross.20101205182001.2569: ** &lt;&lt; Includes &gt;&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;boost/any.hpp&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;boost/function.hpp&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;boost/optional.hpp&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;boost/program_options.hpp&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;boost/shared_ptr.hpp&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;boost/thread.hpp&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;exception&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;list&gt;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &lt;queue&gt;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00037"></a>00037 <span class="comment">//@-&lt;&lt; Includes &gt;&gt;</span>
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 <span class="keyword">namespace </span>Illuminate {
<a name="l00040"></a>00040 
<a name="l00041"></a>00041 <span class="comment">//@+&lt;&lt; Forward declarations &gt;&gt;</span>
<a name="l00042"></a>00042 <span class="comment">//@+node:gcross.20101205182001.2577: ** &lt;&lt; Forward declarations &gt;&gt;</span>
<a name="l00043"></a>00043 <span class="keyword">class </span>Suite;
<a name="l00044"></a>00044 <span class="keyword">class </span>Test;
<a name="l00045"></a>00045 <span class="keyword">class </span>Visitor;
<a name="l00046"></a>00046 <span class="comment">//@-&lt;&lt; Forward declarations &gt;&gt;</span>
<a name="l00047"></a>00047 
<a name="l00048"></a>00048 <span class="comment">//@+others</span>
<a name="l00049"></a>00049 <span class="comment">//@+node:gcross.20110204202041.1562: ** exception FatalError</span>
<a name="l00051"></a>00051 <span class="comment"></span>
<a name="l00054"></a><a class="code" href="struct_illuminate_1_1_fatal_error.html">00054</a> <span class="keyword">struct </span><a class="code" href="struct_illuminate_1_1_fatal_error.html" title="Exception thrown when a fatal error is encountered in a test.">FatalError</a> : <span class="keyword">public</span> std::exception {
<a name="l00056"></a><a class="code" href="struct_illuminate_1_1_fatal_error.html#aa32e5274c8f3dfb0b0ecf57482ad0dab">00056</a>     std::string <span class="keyword">const</span> <a class="code" href="struct_illuminate_1_1_fatal_error.html#aa32e5274c8f3dfb0b0ecf57482ad0dab" title="The message decribing the failure.">message</a>;
<a name="l00058"></a><a class="code" href="struct_illuminate_1_1_fatal_error.html#ac1ff4792406ea5d4390a292de1a279e4">00058</a>     <a class="code" href="struct_illuminate_1_1_fatal_error.html#ac1ff4792406ea5d4390a292de1a279e4" title="Constructor.">FatalError</a>(std::string <span class="keyword">const</span>&amp; <a class="code" href="struct_illuminate_1_1_fatal_error.html#aa32e5274c8f3dfb0b0ecf57482ad0dab" title="The message decribing the failure.">message</a>) : message(message) {}
<a name="l00060"></a><a class="code" href="struct_illuminate_1_1_fatal_error.html#ad69022a87d463eba1a1cc743b2889898">00060</a>     <span class="keyword">virtual</span> <a class="code" href="struct_illuminate_1_1_fatal_error.html#ad69022a87d463eba1a1cc743b2889898" title="Destructor.">~FatalError</a>() throw() {}
<a name="l00062"></a><a class="code" href="struct_illuminate_1_1_fatal_error.html#a182de372aca1ad73846f18bb9fd13928">00062</a>     <span class="keywordtype">char</span> <span class="keyword">const</span>* <a class="code" href="struct_illuminate_1_1_fatal_error.html#a182de372aca1ad73846f18bb9fd13928" title="Returns the failure message.">what</a>() <span class="keyword">const</span> throw() { <span class="keywordflow">return</span> <a class="code" href="struct_illuminate_1_1_fatal_error.html#aa32e5274c8f3dfb0b0ecf57482ad0dab" title="The message decribing the failure.">message</a>.c_str(); }
<a name="l00063"></a>00063 };
<a name="l00064"></a>00064 <span class="comment">//@+node:gcross.20101206161648.1861: ** Type aliases</span>
<a name="l00066"></a>00066 <span class="comment"></span>
<a name="l00069"></a><a class="code" href="namespace_illuminate.html#ad06e93774091cbb9ee4e0deadc83abdb">00069</a> <span class="keyword">typedef</span> boost::shared_ptr&lt;std::vector&lt;std::string&gt; &gt; <a class="code" href="namespace_illuminate.html#ad06e93774091cbb9ee4e0deadc83abdb" title="The result of executing a test.">TestResult</a>;
<a name="l00071"></a><a class="code" href="namespace_illuminate.html#a271ad517c11d8e45d2354e3c3355389c">00071</a> <span class="keyword">typedef</span> boost::function&lt;TestResult (Test const&amp;)&gt; <a class="code" href="namespace_illuminate.html#a271ad517c11d8e45d2354e3c3355389c" title="Function which fetches the result of a test.">TestResultFetcher</a>;
<a name="l00072"></a>00072 <span class="comment">//@+node:gcross.20110204202041.1558: ** Enums</span>
<a name="l00074"></a>00074 <span class="comment"></span>
<a name="l00077"></a><a class="code" href="namespace_illuminate.html#ac6b1b1f0676d4db31f05d0309cae74d6">00077</a> <span class="keyword">enum</span> <a class="code" href="namespace_illuminate.html#ac6b1b1f0676d4db31f05d0309cae74d6" title="A setting that specifies what kind of failure (if any) will cause the test program to abort...">AbortMode</a> {
<a name="l00079"></a><a class="code" href="namespace_illuminate.html#ac6b1b1f0676d4db31f05d0309cae74d6a6449e3e738c920034dd511f73714dd77">00079</a>     <a class="code" href="namespace_illuminate.html#ac6b1b1f0676d4db31f05d0309cae74d6a6449e3e738c920034dd511f73714dd77" title="The test program should never intentionally abort (though of course segfaults may force its hand!)...">NEVER_ABORT</a>,
<a name="l00081"></a><a class="code" href="namespace_illuminate.html#ac6b1b1f0676d4db31f05d0309cae74d6a4958b65b7dbce89cb9fe14a50414ce57">00081</a>     <a class="code" href="namespace_illuminate.html#ac6b1b1f0676d4db31f05d0309cae74d6a4958b65b7dbce89cb9fe14a50414ce57" title="The test program should abort if any uncaught exception is encountered.">ABORT_ON_EXCEPTION</a>,
<a name="l00083"></a><a class="code" href="namespace_illuminate.html#ac6b1b1f0676d4db31f05d0309cae74d6af51f1bc51c01614db9dfecdde06fec9e">00083</a>     <a class="code" href="namespace_illuminate.html#ac6b1b1f0676d4db31f05d0309cae74d6af51f1bc51c01614db9dfecdde06fec9e" title="The test program should abort if any failure at all is encountered.">ABORT_ON_ANY_FAILURE</a>
<a name="l00084"></a>00084 };
<a name="l00085"></a>00085 <span class="comment">//@+node:gcross.20101205182001.2570: ** Classes</span>
<a name="l00088"></a>00088 <span class="comment"></span>
<a name="l00089"></a>00089 <span class="comment">//@+others</span>
<a name="l00090"></a>00090 <span class="comment">//@+node:gcross.20101205182001.2574: *3* Node</span>
<a name="l00092"></a><a class="code" href="struct_illuminate_1_1_node.html">00092</a> <span class="comment"></span><span class="keyword">struct </span><a class="code" href="struct_illuminate_1_1_node.html" title="A node in the test tree.">Node</a> {
<a name="l00093"></a>00093     <span class="comment">//@+others</span>
<a name="l00094"></a>00094     <span class="comment">//@+node:gcross.20101205182001.2575: *4* (fields)</span>
<a name="l00096"></a><a class="code" href="struct_illuminate_1_1_node.html#af0e7c77b3a70c02a524420377ceefb85">00096</a> <span class="comment"></span>    boost::optional&lt;Suite const&amp;&gt; <span class="keyword">const</span> <a class="code" href="struct_illuminate_1_1_node.html#af0e7c77b3a70c02a524420377ceefb85" title="The parent of this node (may be null).">parent</a>;
<a name="l00097"></a>00097 
<a name="l00099"></a><a class="code" href="struct_illuminate_1_1_node.html#a215ead9f3e3db1e5b7a3910ca625b7b8">00099</a>     std::string <span class="keyword">const</span> <a class="code" href="struct_illuminate_1_1_node.html#a215ead9f3e3db1e5b7a3910ca625b7b8" title="The name of this node.">name</a>;
<a name="l00100"></a>00100 
<a name="l00102"></a><a class="code" href="struct_illuminate_1_1_node.html#a34f15ecb27568195d69d82cdb98f6ef5">00102</a>     <span class="keywordtype">bool</span> <span class="keyword">const</span> <a class="code" href="struct_illuminate_1_1_node.html#a34f15ecb27568195d69d82cdb98f6ef5" title="Whether to skip this node.">skipped</a>;
<a name="l00103"></a>00103     <span class="comment">//@+node:gcross.20101205182001.2576: *4* (constructors)</span>
<a name="l00105"></a>00105 <span class="comment"></span>    <a class="code" href="struct_illuminate_1_1_node.html#ac563d499302b1c66bb4a4553dfb46bfa" title="Constructor.">Node</a>(
<a name="l00107"></a>00107         std::string <span class="keyword">const</span>&amp; <a class="code" href="struct_illuminate_1_1_node.html#a215ead9f3e3db1e5b7a3910ca625b7b8" title="The name of this node.">name</a>,
<a name="l00109"></a>00109         boost::optional&lt;Suite const&amp;&gt; <a class="code" href="struct_illuminate_1_1_node.html#af0e7c77b3a70c02a524420377ceefb85" title="The parent of this node (may be null).">parent</a>,
<a name="l00111"></a>00111         boost::optional&lt;bool&gt; <a class="code" href="struct_illuminate_1_1_node.html#a34f15ecb27568195d69d82cdb98f6ef5" title="Whether to skip this node.">skipped</a>=boost::none
<a name="l00112"></a>00112     );
<a name="l00113"></a>00113     <span class="comment">//@-others</span>
<a name="l00114"></a>00114 };
<a name="l00115"></a>00115 <span class="comment">//@+node:gcross.20101205182001.2583: *3* Suite</span>
<a name="l00117"></a><a class="code" href="class_illuminate_1_1_suite.html">00117</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="class_illuminate_1_1_suite.html" title="A test suite.">Suite</a> : <span class="keyword">public</span> <a class="code" href="struct_illuminate_1_1_node.html" title="A node in the test tree.">Node</a> {
<a name="l00118"></a>00118     <span class="comment">//@+others</span>
<a name="l00119"></a>00119     <span class="comment">//@+node:gcross.20101205182001.2584: *4* (friends)</span>
<a name="l00120"></a>00120     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_illuminate_1_1_test.html" title="A test case.">Test</a>;
<a name="l00121"></a>00121     <span class="comment">//@+node:gcross.20101205182001.2585: *4* (constructors)</span>
<a name="l00122"></a>00122     <span class="keyword">public</span>:
<a name="l00123"></a>00123 
<a name="l00125"></a>00125     <a class="code" href="class_illuminate_1_1_suite.html#a5d826aac29b5ff44250190e72ec01cb1" title="Constructor.">Suite</a>(
<a name="l00127"></a>00127         std::string <span class="keyword">const</span>&amp; <a class="code" href="struct_illuminate_1_1_node.html#a215ead9f3e3db1e5b7a3910ca625b7b8" title="The name of this node.">name</a>,
<a name="l00129"></a>00129         boost::optional&lt;Suite const&amp;&gt; <a class="code" href="struct_illuminate_1_1_node.html#af0e7c77b3a70c02a524420377ceefb85" title="The parent of this node (may be null).">parent</a>,
<a name="l00131"></a>00131         boost::optional&lt;bool&gt; <a class="code" href="struct_illuminate_1_1_node.html#a34f15ecb27568195d69d82cdb98f6ef5" title="Whether to skip this node.">skipped</a>=boost::none
<a name="l00132"></a>00132     );
<a name="l00133"></a>00133     <span class="comment">//@+node:gcross.20101205182001.2586: *4* (fields)</span>
<a name="l00134"></a>00134     <span class="keyword">private</span>:
<a name="l00135"></a>00135 
<a name="l00137"></a>00137     std::list&lt;Suite&gt; nested_suites;
<a name="l00138"></a>00138 
<a name="l00140"></a>00140     std::vector&lt;Test*&gt; tests;
<a name="l00141"></a>00141     <span class="comment">//@+node:gcross.20101205182001.2587: *4* (methods)</span>
<a name="l00142"></a>00142     <span class="keyword">public</span>:
<a name="l00143"></a>00143 
<a name="l00145"></a>00145 
<a name="l00151"></a>00151     <a class="code" href="class_illuminate_1_1_suite.html" title="A test suite.">Suite</a>&amp; <a class="code" href="class_illuminate_1_1_suite.html#a0b4aaaccf8e0c0eae8b7e8eb12ea1773" title="Look up (or possibly create) the child suite with the given name.">lookupSuite</a>(std::string <span class="keyword">const</span>&amp; name, boost::optional&lt;bool&gt; <a class="code" href="struct_illuminate_1_1_node.html#a34f15ecb27568195d69d82cdb98f6ef5" title="Whether to skip this node.">skipped</a>=boost::none);
<a name="l00152"></a>00152 
<a name="l00154"></a>00154 
<a name="l00157"></a>00157     <span class="keywordtype">void</span> <a class="code" href="class_illuminate_1_1_suite.html#a1e79737cae2ce6f680cd52bbf9aa4cdd" title="Apply the visitor to this suite.">visit</a>(<a class="code" href="struct_illuminate_1_1_visitor.html" title="Test tree visitor.">Visitor</a>&amp; visitor) <span class="keyword">const</span>;
<a name="l00158"></a>00158     <span class="comment">//@-others</span>
<a name="l00159"></a>00159 };
<a name="l00160"></a>00160 <span class="comment">//@+node:gcross.20101206104532.1407: *3* Root</span>
<a name="l00162"></a>00162 <span class="comment"></span>
<a name="l00167"></a><a class="code" href="class_illuminate_1_1_root.html">00167</a> <span class="keyword">class </span><a class="code" href="class_illuminate_1_1_root.html" title="The root of the test tree.">Root</a> : <span class="keyword">public</span> <a class="code" href="class_illuminate_1_1_suite.html" title="A test suite.">Suite</a> {
<a name="l00168"></a>00168     <span class="comment">//@+others</span>
<a name="l00169"></a>00169     <span class="comment">//@+node:gcross.20101206104532.1411: *4* (friends)</span>
<a name="l00170"></a>00170     <span class="keyword">friend</span> <a class="code" href="class_illuminate_1_1_root.html" title="The root of the test tree.">Root</a>&amp; <a class="code" href="class_illuminate_1_1_root.html#adf82f05d49111230d2ecdfce9f5a5dcb" title="Returns a reference to the root of the test suite.">getRoot</a>();
<a name="l00171"></a>00171     <span class="comment">//@+node:gcross.20101206104532.1408: *4* (fields)</span>
<a name="l00172"></a>00172     <span class="keyword">public</span>:
<a name="l00173"></a>00173 
<a name="l00175"></a><a class="code" href="class_illuminate_1_1_root.html#a4d266dd2d01f0a905f26ef815b1b3926">00175</a>     std::vector&lt;Test*&gt; <a class="code" href="class_illuminate_1_1_root.html#a4d266dd2d01f0a905f26ef815b1b3926" title="A vector containing all registered tests.">tests</a>;
<a name="l00176"></a>00176     <span class="comment">//@+node:gcross.20101206104532.1409: *4* (constructors)</span>
<a name="l00177"></a>00177     <span class="keyword">private</span>:
<a name="l00178"></a>00178 
<a name="l00180"></a>00180     <a class="code" href="class_illuminate_1_1_root.html" title="The root of the test tree.">Root</a>();
<a name="l00181"></a>00181     <span class="comment">//@+node:gcross.20101206104532.1410: *4* (methods)</span>
<a name="l00182"></a>00182     <span class="keyword">public</span>:
<a name="l00183"></a>00183 
<a name="l00185"></a>00185 
<a name="l00189"></a>00189     <span class="keywordtype">int</span> <a class="code" href="class_illuminate_1_1_root.html#a5656aa6ce65cd207d8446eff3887b61f" title="Registers a test case in the global list.">registerTest</a>(<a class="code" href="class_illuminate_1_1_test.html" title="A test case.">Test</a>* test);
<a name="l00190"></a>00190     <span class="comment">//@-others</span>
<a name="l00191"></a>00191 };
<a name="l00192"></a>00192 <span class="comment">//@+node:gcross.20101205182001.2592: *3* Test</span>
<a name="l00194"></a><a class="code" href="class_illuminate_1_1_test.html">00194</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="class_illuminate_1_1_test.html" title="A test case.">Test</a> : <span class="keyword">public</span> <a class="code" href="struct_illuminate_1_1_node.html" title="A node in the test tree.">Node</a> {
<a name="l00195"></a>00195     <span class="comment">//@+others</span>
<a name="l00196"></a>00196     <span class="comment">//@+node:gcross.20101206104532.1412: *4* (fields)</span>
<a name="l00197"></a>00197     <span class="keyword">public</span>:
<a name="l00198"></a>00198 
<a name="l00200"></a><a class="code" href="class_illuminate_1_1_test.html#a272d42ba46ed71569cd6dd2f97a4d4c9">00200</a>     <span class="keywordtype">int</span> <span class="keyword">const</span> <a class="code" href="class_illuminate_1_1_test.html#a272d42ba46ed71569cd6dd2f97a4d4c9" title="The unique identifier of the test.">id</a>;
<a name="l00201"></a>00201 
<a name="l00203"></a><a class="code" href="class_illuminate_1_1_test.html#a624b749e3e5d65a9c587e144c46ac6fa">00203</a>     boost::function&lt;void ()&gt; <span class="keyword">const</span> <a class="code" href="class_illuminate_1_1_test.html#a624b749e3e5d65a9c587e144c46ac6fa" title="The code that performs the test.">runner</a>;
<a name="l00204"></a>00204 
<a name="l00206"></a><a class="code" href="class_illuminate_1_1_test.html#a3a55efbebe9ecd9d00dcbcdd6e84aad9">00206</a>     <span class="keyword">static</span> boost::thread_specific_ptr&lt;std::vector&lt;std::string&gt; &gt; <a class="code" href="class_illuminate_1_1_test.html#a3a55efbebe9ecd9d00dcbcdd6e84aad9" title="The list of failures that have been recorded in this thread for the current test being run...">current_failures</a>;
<a name="l00207"></a>00207 
<a name="l00209"></a><a class="code" href="class_illuminate_1_1_test.html#a2d0c0de29ea37d99428b007784b5f72b">00209</a>     <span class="keyword">static</span> <a class="code" href="namespace_illuminate.html#ac6b1b1f0676d4db31f05d0309cae74d6" title="A setting that specifies what kind of failure (if any) will cause the test program to abort...">AbortMode</a> <a class="code" href="class_illuminate_1_1_test.html#a2d0c0de29ea37d99428b007784b5f72b" title="The abort mode, which specifies the types of failures that will cause the test program to abort...">abort_mode</a>;
<a name="l00210"></a>00210     <span class="comment">//@+node:gcross.20101206161648.1514: *4* (exceptions)</span>
<a name="l00211"></a>00211     <span class="keyword">public</span>:
<a name="l00212"></a>00212 
<a name="l00214"></a><a class="code" href="struct_illuminate_1_1_test_1_1_failures_accessed_outside_test_context.html">00214</a>     <span class="keyword">struct </span><a class="code" href="struct_illuminate_1_1_test_1_1_failures_accessed_outside_test_context.html" title="An exception thrown if the failure list is accessed outside the context of running a test...">FailuresAccessedOutsideTestContext</a> : <span class="keyword">public</span> std::exception {
<a name="l00216"></a>00216         <span class="keyword">virtual</span> <span class="keywordtype">char</span> <span class="keyword">const</span>* <a class="code" href="struct_illuminate_1_1_test_1_1_failures_accessed_outside_test_context.html#a5d2e8aa6150b67b624778e42ed25b876" title="Returns a message describing this exception.">what</a>() <span class="keyword">const</span> <span class="keywordflow">throw</span>();
<a name="l00217"></a>00217     };
<a name="l00218"></a>00218 
<a name="l00219"></a>00219     <span class="keyword">private</span>:
<a name="l00220"></a>00220 
<a name="l00222"></a>00222     <span class="keyword">struct </span>FatalTestFailure { };
<a name="l00223"></a>00223     <span class="comment">//@+node:gcross.20101205182001.2593: *4* (constructors)</span>
<a name="l00224"></a>00224     <span class="keyword">public</span>:
<a name="l00225"></a>00225 
<a name="l00227"></a>00227     <a class="code" href="class_illuminate_1_1_test.html#a886b671393476304061d32fbf65b12c2" title="Constructor.">Test</a>(
<a name="l00229"></a>00229         std::string <span class="keyword">const</span>&amp; <a class="code" href="struct_illuminate_1_1_node.html#a215ead9f3e3db1e5b7a3910ca625b7b8" title="The name of this node.">name</a>,
<a name="l00231"></a>00231         <a class="code" href="class_illuminate_1_1_suite.html" title="A test suite.">Suite</a>&amp; <a class="code" href="struct_illuminate_1_1_node.html#af0e7c77b3a70c02a524420377ceefb85" title="The parent of this node (may be null).">parent</a>,
<a name="l00233"></a>00233         boost::function&lt;<span class="keywordtype">void</span> ()&gt; <a class="code" href="class_illuminate_1_1_test.html#a624b749e3e5d65a9c587e144c46ac6fa" title="The code that performs the test.">runner</a>,
<a name="l00235"></a>00235         boost::optional&lt;bool&gt; <a class="code" href="struct_illuminate_1_1_node.html#a34f15ecb27568195d69d82cdb98f6ef5" title="Whether to skip this node.">skipped</a>=boost::none
<a name="l00236"></a>00236     );
<a name="l00237"></a>00237     <span class="comment">//@+node:gcross.20101205182001.2594: *4* (methods)</span>
<a name="l00238"></a>00238     <span class="keyword">protected</span>:
<a name="l00239"></a>00239 
<a name="l00241"></a>00241     <span class="keyword">static</span> std::vector&lt;std::string&gt;&amp; <a class="code" href="class_illuminate_1_1_test.html#a58b7d91a1f8224e4acbc534229ad1c1e" title="Get the (thread-local) current list of failures.">getFailures</a>();
<a name="l00242"></a>00242 
<a name="l00243"></a>00243     <span class="keyword">public</span>:
<a name="l00244"></a>00244 
<a name="l00246"></a>00246     <span class="keyword">static</span> std::string <a class="code" href="class_illuminate_1_1_test.html#af729d5daedce1f7742a98058b235e6e6" title="Construct a failure message annotated with source position infomration.">annotateFailureMessage</a>(
<a name="l00248"></a>00248         <span class="keywordtype">char</span> <span class="keyword">const</span>* filename,
<a name="l00250"></a>00250         <span class="keywordtype">int</span> line_number,
<a name="l00252"></a>00252         std::string <span class="keyword">const</span>&amp; message
<a name="l00256"></a>00256     );
<a name="l00257"></a>00257 
<a name="l00258"></a>00258 
<a name="l00260"></a>00260     <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="class_illuminate_1_1_test.html#ae89029776e57c8bffea454b33aea5f26" title="Returns the (thread-local) current number of failures recorded.">countFailures</a>();
<a name="l00261"></a>00261 
<a name="l00263"></a>00263     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_illuminate_1_1_test.html#a07a140f4720e88f39d3e39c29607d61c" title="Immediately terminates the current test.">die</a>();
<a name="l00264"></a>00264 
<a name="l00266"></a>00266     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_illuminate_1_1_test.html#a5863a0dad98104748d891a2cdd76cb35" title="Erase all failures in the (thread-local) current failure list after number_of_failures.">eraseFailuresAfter</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> number_of_failures);
<a name="l00267"></a>00267 
<a name="l00269"></a>00269     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_illuminate_1_1_test.html#a19c30f5016ed0997ad13d21ecddfb6b2" title="Adds a failure with the given message to the (thread-local) current failure list.">registerFailure</a>(
<a name="l00271"></a>00271         std::string <span class="keyword">const</span>&amp; message,
<a name="l00273"></a>00273         <span class="keywordtype">bool</span> fatal=<span class="keyword">false</span>
<a name="l00274"></a>00274     );
<a name="l00275"></a>00275 
<a name="l00277"></a>00277 
<a name="l00280"></a>00280     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_illuminate_1_1_test.html#a19c30f5016ed0997ad13d21ecddfb6b2" title="Adds a failure with the given message to the (thread-local) current failure list.">registerFailure</a>(
<a name="l00282"></a>00282         <span class="keywordtype">char</span> <span class="keyword">const</span>* filename,
<a name="l00284"></a>00284         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> line_number,
<a name="l00286"></a>00286         std::string <span class="keyword">const</span>&amp; message,
<a name="l00288"></a>00288         <span class="keywordtype">bool</span> fatal=<span class="keyword">false</span>
<a name="l00289"></a>00289     );
<a name="l00290"></a>00290 
<a name="l00292"></a>00292 
<a name="l00295"></a>00295     <a class="code" href="namespace_illuminate.html#ad06e93774091cbb9ee4e0deadc83abdb" title="The result of executing a test.">TestResult</a> <a class="code" href="class_illuminate_1_1_test.html#a9de2a5d538b42422d65664afd83d3c12" title="Run this test and return the result.">operator()</a>() <span class="keyword">const</span>;
<a name="l00296"></a>00296 
<a name="l00298"></a>00298     <span class="keyword">static</span> <a class="code" href="namespace_illuminate.html#ad06e93774091cbb9ee4e0deadc83abdb" title="The result of executing a test.">TestResult</a> <a class="code" href="class_illuminate_1_1_test.html#a8dd237d8aab38d3742cdb92fea24606d" title="Run test and return the result.">run</a>(<a class="code" href="class_illuminate_1_1_test.html" title="A test case.">Test</a> <span class="keyword">const</span>&amp; test);
<a name="l00299"></a>00299     <span class="comment">//@-others</span>
<a name="l00300"></a>00300 };
<a name="l00301"></a>00301 <span class="comment">//@-others</span>
<a name="l00302"></a>00302 
<a name="l00304"></a>00304 <span class="comment">//@+node:gcross.20101205182001.2588: ** Functions</span>
<a name="l00305"></a>00305 <span class="comment">//@+node:gcross.20101205214942.2483: *3* getRoot</span>
<a name="l00307"></a>00307 <span class="comment"></span>Root&amp; <a class="code" href="namespace_illuminate.html#acc8d0b58feb28727284806d3a5927cd9" title="Returns a reference to the root of the test suite.">getRoot</a>();
<a name="l00308"></a>00308 <span class="comment">//@+node:gcross.20101206104532.1371: *3* underscoresToSpaces</span>
<a name="l00310"></a>00310 <span class="comment"></span>
<a name="l00315"></a>00315 std::string <a class="code" href="namespace_illuminate.html#a72593086635e0873672dab5d617c3a8d" title="Converts the underscores in a string to spaces, and removes leading underscores.">underscoresToSpaces</a>(<span class="keyword">const</span> std::string&amp; old_string);
<a name="l00316"></a>00316 <span class="comment">//@+node:gcross.20110204202041.1559: *3* validate</span>
<a name="l00318"></a>00318 <span class="comment"></span>
<a name="l00321"></a>00321 <span class="keywordtype">void</span> <a class="code" href="namespace_illuminate.html#a9e39b60d5d2e9a9625a78bf704694a5f" title="Validates user input value for color codes.">validate</a>(
<a name="l00322"></a>00322       boost::any&amp; v
<a name="l00323"></a>00323     , <span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; values
<a name="l00324"></a>00324     , <a class="code" href="namespace_illuminate.html#ac6b1b1f0676d4db31f05d0309cae74d6" title="A setting that specifies what kind of failure (if any) will cause the test program to abort...">AbortMode</a>* target_type
<a name="l00325"></a>00325     , <span class="keywordtype">int</span>
<a name="l00326"></a>00326 );
<a name="l00327"></a>00327 <span class="comment">//@-others</span>
<a name="l00328"></a>00328 
<a name="l00329"></a>00329 }
<a name="l00330"></a>00330 
<a name="l00331"></a>00331 <span class="comment">//@+&lt;&lt; Outside Namespace &gt;&gt;</span>
<a name="l00332"></a>00332 <span class="comment">//@+node:gcross.20101205214942.2488: ** &lt;&lt; Outside Namespace &gt;&gt;</span>
<a name="l00333"></a>00333 <span class="comment">//@+others</span>
<a name="l00334"></a>00334 <span class="comment">//@+node:gcross.20101205214942.2491: *3* Functions</span>
<a name="l00335"></a>00335 <span class="comment">//@+node:gcross.20101205214942.2493: *4* getParentSuite</span>
<a name="l00337"></a>00337 <span class="comment"></span><a class="code" href="class_illuminate_1_1_suite.html" title="A test suite.">Illuminate::Suite</a>&amp; <a class="code" href="test__tree_8hpp.html#aa5153eb1f7a125890c7c1fa0f8e2a65d" title="Returns the current parent suite in the global namespace, which is the root suite.">getParentSuite</a>();
<a name="l00338"></a>00338 <span class="comment">//@-others</span>
<a name="l00339"></a>00339 <span class="comment">//@-&lt;&lt; Outside Namespace &gt;&gt;</span>
<a name="l00340"></a>00340 
<a name="l00341"></a>00341 <span class="preprocessor">#endif</span>
<a name="l00342"></a>00342 <span class="preprocessor"></span><span class="comment">//@-leo</span>
</pre></div></div>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Sun Jul 31 2011 00:29:23 for Illuminate by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
